{"mappings":";;;AASA,EAA2E,AAA3E,yFAA2F;AAE3E,GAAb,CAAC,+BAAS,EAAE,mCAAa;SAEZ,yCAAU,CAAC,CAAC,cAAC,WAAW,EAAC,CAAC,EAAE,CAAC;IAC3C,mBAAY,CAAC,CAAC;qBACZ,WAAW;QAEX,MAAM,IAAG,CAAC;YACR,EAA2B,AAA3B,yBAA2B;YAC3B,IAAI,CAAC,MAAM,GAAG,IAAI;YAElB,EAUG,AAVH;;;;;;;;;;OAUG,AAVH,EAUG,CAEH,IAAI,CAAC,GAAG,CAAC,mCAAa,CAAC,MAAM,GAAG,MAAM,EAAE,OAAO,GAAK,CAAC;gBACnD,MAAM,CAAC,CAAC;oBACN,IAAI,EAAE,CAAC;oBACP,GAAG,EAAE,CAAS;oBACd,IAAI,EAAE,CAAC;gBACT,CAAC;YACH,CAAC;YAED,EAEG,AAFH;;OAEG,AAFH,EAEG,CACH,IAAI,CAAC,WAAW,CAAC,+BAAS,GAAG,CAAK,OAAG,GAAG,GAAK,CAAC;gBAC5C,EAAiD,AAAjD,yGAAiD;gBACjD,GAAG,CAAC,MAAM,IAAI,CAAC,GAAK,CAAC;oBACnB,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS;gBAChC,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;AACH,CAAC","sources":["packages/mocyang-mock/src/index.js"],"sourcesContent":["/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 11:24\n * @File: index.js\n * @Description\n */\n\nimport { createServer } from 'miragejs'\n// import { urlNoMock, addressConfig } from './config' // 不想被 migrate 拦截的请求\n\nlet urlNoMock, addressConfig\n\nexport function makeServer({ environment }) {\n  createServer({\n    environment,\n\n    routes() {\n      // this.namespace = '/fake'\n      this.timing = 1000\n\n      /**\n       * mockAPI可以像这样，在下面添加路由配置, 这样，实际的请求路径为：/fake/api/xxx/xxx。\n       * 也就是，所有带 `/fake`前缀的请求，都将走 migratejs 的 mock 服务。其它没有这个前缀的。走正常请求\n       * this.get('/api/xxx/xxx',(schema, request) => {\n       *   return {\n       *     \"code\": 1,\n       *     \"msg\": \"success\",\n       *     \"data\": []\n       *   }\n       * })\n       */\n\n      this.get(addressConfig.getXXX, (schema, request) => {\n        return {\n          code: 0,\n          msg: 'success',\n          data: 0\n        }\n      })\n\n      /**\n       * 参考： https://miragejs.com/api/classes/server/#passthrough\n       */\n      this.passthrough(urlNoMock + '/**', (req) => {\n        // 以下方法调用为必须。目的是把透过 miragejs 的请求，响应之后，传回 axios 本身\n        req.onload = (e) => {\n          req.onloadend && req.onloadend()\n        }\n      })\n    }\n  })\n}\n"],"names":[],"version":3,"file":"index.esm.js.map"}