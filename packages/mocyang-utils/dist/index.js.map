{"mappings":"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","sources":["packages/mocyang-utils/src/debounce.js","packages/mocyang-utils/src/throttle.js","packages/mocyang-utils/src/querystring.js","packages/mocyang-utils/src/random.js","packages/mocyang-utils/src/index.js"],"sourcesContent":["/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:49\n * @File: debounce.js\n * @Description 防抖函数\n */\n\n/**\n * 防抖函数\n * @param func 实际调用的回调\n * @param wait 2次回调执行的最短时间间隔\n * @param immediate 是否立即执行回调\n * @returns {function(): *}\n */\nfunction debounce (func, wait, immediate) {\n  let timer, result\n  let debounced = function () {\n    let context = this\n    let args = arguments\n\n    // 在第一次事件触发的时候就执行，此后触发的事件都不再执行\n    if (immediate) {\n      if (timer) {\n        clearTimeout(timer)\n      } else {\n        result = func.apply(context, args)\n      }\n      timer = setTimeout(function () {\n        timer = null\n      }, wait)\n\n      // 只在最后一次事件触发的间隔之后执行\n    } else {\n      clearTimeout(timer)\n      timer = setTimeout(function () {\n        func.apply(context, args)\n      }, wait)\n    }\n\n    return result\n  }\n\n  debounced.cancel = function () {\n    clearInterval(timer)\n    timer = null\n  }\n\n  return debounced\n}\n\nexport default debounce\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:50\n * @File: throttle.js\n * @Description 节流函数\n */\n\nfunction throttle(func, wait, options) {\n  let timeout\n  let context\n  let args\n  let result\n\n  let previous = 0\n\n  options = options || {\n    leading: false, // 是否禁用第一次执行\n    trailing: true // 是否禁用最后一次回调\n  }\n\n  let later = function () {\n    previous = !options.leading ? 0 : +new Date()\n    timeout = null\n    func.apply(context, args)\n    if (!timeout) {\n      context = args = null\n    }\n  }\n\n  let throttled = function () {\n    let now = +new Date()\n\n    if (!previous && !options.leading) {\n      previous = now\n    }\n\n    context = this\n    args = arguments\n    let remaining = wait - (now - previous)\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing) {\n      timeout = setTimeout(later, remaining)\n    }\n  }\n\n  throttled.cancel = function () {\n    clearTimeout(timeout)\n    timeout = null\n    previous = 0\n  }\n\n  return throttled\n}\n\nexport default throttle\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 14:04\n * @File: querystring.js\n * @Description\n */\nimport { isPlainObject, isArray } from './index'\n\nclass Querystring {\n  parse(url = '') {\n    url = !url ? window.location.href : url\n\n    if (url.indexOf('?') === -1) {\n      return {}\n    }\n\n    let search = url[0] === '?' ? url.substr(1) : url.substring(url.lastIndexOf('?') + 1)\n    if (!search) {\n      return {}\n    }\n\n    search = search.split('&')\n    return Array.from(search).reduce((ret, cur) => {\n      const objKeyAndValuePair = cur.split('=')\n      let value = decodeURIComponent(objKeyAndValuePair[1])\n      /*\n       name=1,2,3 => name: [1, 2, 3]\n       */\n      if (value.indexOf(',') !== -1) {\n        value = value.split(',')\n      }\n      ret[objKeyAndValuePair[0]] = value\n      return ret\n    }, {})\n  }\n\n  stringify(url = '', params = {}) {\n    if (isPlainObject(params)) {\n      return `${url}?${Object.keys(params).reduce((ret, key) => {\n        let value = params[key]\n        /*\n         name=[1, 2, 3] => name=1,2,3\n         */\n        if (isArray(params[key])) {\n          value = value.reduce((acc, cur) => {\n            acc.push(cur)\n            return acc\n          }, []).join(',')\n        }\n        ret.push(`${key}=${encodeURIComponent(value)}`)\n        return ret\n      }, []).join('&')}`\n    }\n  }\n}\n\nexport default new Querystring()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 13:55\n * @File: random.js\n * @Description\n */\nclass Random {\n  randomColor() {\n    return `#${(Math.random() * 0x10000000 << 0).toString(16).slice(-6)}`\n  }\n\n  randomNumber(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min)\n  }\n\n  pick(valueArr) {\n    return valueArr[this.randomNumber(0, valueArr.length - 1)]\n  }\n}\n\nexport default new Random()\n","/**\n * @Author: MocYang\n * @Email: 958292256@qq.com\n * @Date: 2022/1/6 9:56\n * @File: index.js\n * @Description\n */\n\nimport debounce from './debounce'\nimport throttle from './throttle'\nimport querystring from './querystring'\nimport random from './random'\n\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\n  ? Object.freeze({})\n  : {}\n\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production')\n  ? Object.freeze([])\n  : []\n\nexport const NOOP = () => {\n}\n\nconst NO = () => false\n\nexport const extend = Object.assign\n\nexport const hasOwnProperty = Object.prototype.hasOwnProperty\nexport const hasOwn = (val, key) => hasOwnProperty.call(val, key)\n\nexport const objectToString = Object.prototype.toString\n\nexport const toTypeString = (value) => objectToString.call(value)\n\nexport const isPlainObject = (val) => toTypeString(val) === '[object Object]'\n\nexport const isArray = Array.isArray\n\nexport const isMap = (val) => toTypeString(val) === '[object Map]'\n\nexport const isSet = (val) => toTypeString(val) === '[object Set]'\n\nexport const isFunction = (val) => typeof val === 'function'\n\nexport const isObject = (val) => val !== null && typeof val === 'object'\n\nexport const isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const isData = (val) => val instanceof Date\n\nexport const isString = (val) => typeof val === 'string'\n\nexport const isSymbol = (val) => typeof val === 'symbol'\n\n// extract \"RawType\" from strings like \"[object RawType]\"\nexport const toRawType = (val) => toTypeString(val).slice(8, -1)\n\nexport const toNumber = (val) => {\n  const n = parseFloat(val)\n  return isNaN(n) ? val : n\n}\n\nexport const trim = (str) => str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '')\n\n/**\n * 立即执行回调，然后等待指定时间之后，执行后面的代码\n * @param time\n * @param cb\n * @returns {Promise<unknown>}\n */\nexport function wait(time, cb) {\n  return new Promise((resolve => {\n    cb && cb()\n    setTimeout(() => {\n      resolve()\n    }, time)\n  }))\n}\n\n/**\n * 等待异步回调函数执行后才继续往下执行\n * @param thisArg\n * @param fn\n * @param args\n * @returns {Promise<any>}\n */\nexport function until(thisArg, fn, ...args) {\n  return new Promise(resolve => {\n    if (isFunction(fn)) {\n      fn.apply(thisArg, [...args, (...arg) => {\n        resolve(...arg)\n      }])\n    }\n  })\n}\n\nexport function getCookie(key) {\n  let arr = document.cookie.replace(/\\s/g, '').split(';')\n  for (let i = 0; i < arr.length; i++) {\n    let keyAndValuePair = arr[i].split('=')\n    if (keyAndValuePair[0] === key) {\n      return decodeURIComponent(keyAndValuePair[1])\n    }\n  }\n  return ''\n}\n\nexport function setCookie(key, value, timestamps = 0) {\n  let now = new Date()\n  now.setDate(now.getDate() + timestamps)\n  document.cookie += `${key}=${value}`\n}\n\nexport {\n  debounce,\n  throttle,\n  querystring,\n  random\n}\n"],"names":["$75a1b4bfdf1bd2b7$export$2e2bcd8739ae039","func","wait","immediate","timer","result","debounced","context","this","args","arguments","clearTimeout","apply","setTimeout","cancel","clearInterval","$59a5cb7a8ae0581e$export$2e2bcd8739ae039","options","timeout","previous","leading","trailing","later","Date","throttled","now","remaining","$4e0195b1f2321753$export$2e2bcd8739ae039","parse","url","window","location","href","indexOf","search","substr","substring","lastIndexOf","split","Array","from","reduce","ret","cur","objKeyAndValuePair","value","decodeURIComponent","stringify","url1","params","$3bd6b3ae68ca3473$export$53b83ca8eaab0383","Object","keys","key","$3bd6b3ae68ca3473$export$43bee75e5e14138e","acc","push","join","encodeURIComponent","$08071303eace762a$export$2e2bcd8739ae039","randomColor","Math","random","toString","slice","randomNumber","min","max","floor","pick","valueArr","length","$3bd6b3ae68ca3473$export$5702a91a6f42969f","$3bd6b3ae68ca3473$export$8b58be045bf06082","assign","$3bd6b3ae68ca3473$export$5a15a386532a5ea4","prototype","hasOwnProperty","$3bd6b3ae68ca3473$export$b5a638e9b3fff9f3","val","call","$3bd6b3ae68ca3473$export$830c053460e5ddf6","$3bd6b3ae68ca3473$export$1dccc787cc36538b","isArray","$3bd6b3ae68ca3473$export$5c90113a285f2241","$3bd6b3ae68ca3473$export$6750766a7c7ec627","$3bd6b3ae68ca3473$export$f6e2535fb5126e54","$3bd6b3ae68ca3473$export$a6cdc56e425d0d0a","$3bd6b3ae68ca3473$export$4369c812aac99591","then","catch","$3bd6b3ae68ca3473$export$5c152495ed2c5c39","$3bd6b3ae68ca3473$export$844ec244b1367d54","$3bd6b3ae68ca3473$export$a244864fd9645c7f","$3bd6b3ae68ca3473$export$5ad0a3c360b8fbb5","$3bd6b3ae68ca3473$export$a0a81dc3380ce7d3","n","parseFloat","isNaN","$3bd6b3ae68ca3473$export$87c2784dc9fc4ab","str","trim","replace","$3bd6b3ae68ca3473$export$5c069c93d2b7493f","time","cb","Promise","resolve","$3bd6b3ae68ca3473$export$a40009bd2c363351","thisArg","fn","arg","$3bd6b3ae68ca3473$export$4be65e66cfa2648a","arr","document","cookie","i","keyAndValuePair","$3bd6b3ae68ca3473$export$110700823644f4a6","timestamps","setDate","getDate"],"version":3,"file":"index.js.map"}